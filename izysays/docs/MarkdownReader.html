<!DOCTYPE html>
<meta name="viewport" content="width=device-width, initial-scale=1" lang="en" />

<head>
	<meta charset="UTF-8" />
	<title>MarkdownReader</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css"
		integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous">
	<!-- The loading of KaTeX is deferred to speed up page rendering -->
	<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"
		integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg"
		crossorigin="anonymous"></script>
	<!-- To automatically render math in text elements, include the auto-render extension: -->
	<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"
		integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous"
		onload="renderMathInElement(document.body);"></script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" />
	<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/limpdev/limpbin@main/css/prismHL.css" />
	<style type="text/css">
		/* Add your custom styles here */
		@import "https://www.nerdfonts.com/assets/css/webfont.css";

		article {
			display: flow;
			max-width: 1100px;
			min-width: 650px;
			justify-content: center;
			text-rendering: optimizeLegibility !important;
		}

		.markdown-body {
			--base-size-4: 0.25rem;
			--base-size-8: 0.5rem;
			--base-size-16: 1rem;
			--base-size-24: 1.5rem;
			--base-size-40: 2.5rem;
			--base-text-weight-normal: 400;
			--base-text-weight-medium: 500;
			--base-text-weight-semibold: 600;
			--fontStack-monospace: "SF Mono", "Symbols Nerd Font", Menlo, monospace;
			--fgColor-accent: Highlight;
		}

		i[class^="devicon-"] {
			font-size: 2rem;
		}

		@media (prefers-color-scheme: dark) {

			.markdown-body,
			[data-theme="dark"] {
				/* dark */
				color-scheme: dark;
				--focus-outlineColor: #1f6feb;
				--fgColor-default: #f0f6fc;
				--fgColor-muted: #9198a1;
				--fgColor-accent: #4493f8;
				--fgColor-success: #3fb950;
				--fgColor-attention: #d29922;
				--fgColor-danger: #f85149;
				--fgColor-done: #ab7df8;
				--bgColor-default: #161616;
				--bgColor-muted: #09090a;
				--bgColor-neutral-muted: #656c7633;
				--bgColor-attention-muted: #ffee0033;
				--borderColor-default: #3d444d;
				--borderColor-muted: #3d444db3;
				--borderColor-neutral-muted: #3d444db3;
				--borderColor-accent-emphasis: #1f6feb;
				--borderColor-success-emphasis: #238636;
				--borderColor-attention-emphasis: #9e6a03;
				--borderColor-danger-emphasis: #da3633;
				--borderColor-done-emphasis: #8957e5;
				--color-prettylights-syntax-comment: #9198a1;
				--color-prettylights-syntax-constant: #79c0ff;
				--color-prettylights-syntax-constant-other-reference-link: #a5d6ff;
				--color-prettylights-syntax-entity: #d2a8ff;
				--color-prettylights-syntax-storage-modifier-import: #f0f6fc;
				--color-prettylights-syntax-entity-tag: #7ee787;
				--color-prettylights-syntax-keyword: #ff7b72;
				--color-prettylights-syntax-string: #a5d6ff;
				--color-prettylights-syntax-variable: #ffa657;
				--color-prettylights-syntax-brackethighlighter-unmatched: #f85149;
				--color-prettylights-syntax-brackethighlighter-angle: #9198a1;
				--color-prettylights-syntax-invalid-illegal-text: #f0f6fc;
				--color-prettylights-syntax-invalid-illegal-bg: #8e1519;
				--color-prettylights-syntax-carriage-return-text: #f0f6fc;
				--color-prettylights-syntax-carriage-return-bg: #b62324;
				--color-prettylights-syntax-string-regexp: #7ee787;
				--color-prettylights-syntax-markup-list: #f2cc60;
				--color-prettylights-syntax-markup-heading: #1f6feb;
				--color-prettylights-syntax-markup-italic: #f0f6fc;
				--color-prettylights-syntax-markup-bold: #f0f6fc;
				--color-prettylights-syntax-markup-deleted-text: #ffdcd7;
				--color-prettylights-syntax-markup-deleted-bg: #67060c;
				--color-prettylights-syntax-markup-inserted-text: #aff5b4;
				--color-prettylights-syntax-markup-inserted-bg: #033a16;
				--color-prettylights-syntax-markup-changed-text: #ffdfb6;
				--color-prettylights-syntax-markup-changed-bg: #5a1e02;
				--color-prettylights-syntax-markup-ignored-text: #f0f6fc;
				--color-prettylights-syntax-markup-ignored-bg: #1158c7;
				--color-prettylights-syntax-meta-diff-range: #d2a8ff;
				--color-prettylights-syntax-sublimelinter-gutter-mark: #3d444d;
			}
		}

		:root,
		html,
		body {
			display: flow;
			justify-items: center;
			background-color: #161616 !important;
			color: var(--fgColor-default) !important;
			margin: 0 !important;
		}

		.markdown-body {
			padding: 25px;
			-ms-text-size-adjust: 100%;
			-webkit-text-size-adjust: 100%;
			margin: 0;
			color: var(--fgColor-default);
			background-color: #161616 !important;
			font-family: "SFProDisplay Nerd Font", "Satoshi Nerd Font", BlinkMacSystemFont, "Segoe UI", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
			font-size: 16.5px;
			line-height: 1.3;
			word-wrap: break-word;
		}

		.markdown-body .octicon {
			display: inline-block;
			fill: currentColor;
			vertical-align: text-bottom;
		}

		.markdown-body h1:hover .anchor .octicon-link:before,
		.markdown-body h2:hover .anchor .octicon-link:before,
		.markdown-body h3:hover .anchor .octicon-link:before,
		.markdown-body h4:hover .anchor .octicon-link:before,
		.markdown-body h5:hover .anchor .octicon-link:before,
		.markdown-body h6:hover .anchor .octicon-link:before {
			width: 16px;
			height: 16px;
			content: " ";
			display: inline-block;
			background-color: currentColor;
			-webkit-mask-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg>");
			mask-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg>");
		}

		.markdown-body details,
		.markdown-body figcaption,
		.markdown-body figure {
			display: block;
		}

		.markdown-body summary {
			display: list-item;
		}

		.markdown-body [hidden] {
			display: none !important;
		}

		.markdown-body a {
			background-color: transparent;
			color: var(--fgColor-accent);
			text-decoration: none;
		}

		.markdown-body abbr[title] {
			border-bottom: none;
			-webkit-text-decoration: underline dotted;
			text-decoration: underline dotted;
		}

		.markdown-body b,
		.markdown-body strong {
			font-weight: var(--base-text-weight-semibold, 600);
		}

		.markdown-body dfn {
			font-style: italic;
		}

		.markdown-body h1 {
			margin: 0.67em 0;
			font-weight: var(--base-text-weight-semibold, 600);
			padding-bottom: 0.3em;
			font-size: 2em;
			border-bottom: 1px solid var(--borderColor-muted);
		}

		.markdown-body mark {
			background-color: #ffee0033;
			color: var(--fgColor-default);
			padding: 3px;
			border-radius: 4px;
		}

		.markdown-body small {
			font-size: 90%;
		}

		.markdown-body sub,
		.markdown-body sup {
			font-size: 75%;
			line-height: 0;
			position: relative;
			vertical-align: baseline;
		}

		.markdown-body sub {
			bottom: -0.25em;
		}

		.markdown-body sup {
			top: -0.5em;
		}

		.markdown-body img {
			border-style: none;
			max-width: 100%;
			width: 25%;
			box-sizing: content-box;
		}

		.markdown-body code,
		.markdown-body kbd,
		.markdown-body pre,
		.markdown-body samp {
			font-family: var(--font-family-monospace);
			font-size: 1em;
		}

		.markdown-body figure {
			margin: 1em var(--base-size-40);
		}

		.markdown-body hr {
			box-sizing: content-box;
			overflow: hidden;
			background: transparent;
			border-bottom: 1px solid var(--borderColor-muted);
			height: 0.25em;
			padding: 0;
			margin: var(--base-size-24) 0;
			background-color: var(--borderColor-default);
			border: 0;
		}

		.markdown-body input {
			font: inherit;
			margin: 0;
			overflow: visible;
			font-family: inherit;
			font-size: inherit;
			line-height: inherit;
		}

		.markdown-body [type="button"],
		.markdown-body [type="reset"],
		.markdown-body [type="submit"] {
			-webkit-appearance: button;
			appearance: button;
		}

		.markdown-body [type="checkbox"],
		.markdown-body [type="radio"] {
			box-sizing: border-box;
			padding: 0;
		}

		.markdown-body [type="number"]::-webkit-inner-spin-button,
		.markdown-body [type="number"]::-webkit-outer-spin-button {
			height: auto;
		}

		.markdown-body [type="search"]::-webkit-search-cancel-button,
		.markdown-body [type="search"]::-webkit-search-decoration {
			-webkit-appearance: none;
			appearance: none;
		}

		.markdown-body ::-webkit-input-placeholder {
			color: inherit;
			opacity: 0.54;
		}

		.markdown-body ::-webkit-file-upload-button {
			-webkit-appearance: button;
			appearance: button;
			font: inherit;
		}

		.markdown-body a:hover {
			text-decoration: underline;
		}

		.markdown-body ::placeholder {
			color: var(--fgColor-muted);
			opacity: 1;
		}

		table {
			padding: 0;
			border-collapse: collapse;
			margin-left: auto;
			margin-right: auto;
			text-align: center;
		}

		table tr {
			/* border-top: 1px solid #cccccc; */
			background-color: #0b182a;
			margin: 0;
			padding: 0;
		}

		table tr:nth-child(2n) {
			background-color: #f8f8f8;
		}

		table tr th {
			font-family: "Roboto Slab", sans-serif;
			font-weight: bold;
			/* border: 0.5px solid #cccccc; */
			/* border-left: 0.5px solid #cccccc;
      border-right: 0.5px solid #cccccc; */
			background-color: #0b182a;
			font-size: 15px;
			margin: 0;
			padding: 0.4em 0.35em 0.4em 0.35em;
		}

		table tr td {
			/* border: 1px solid #cccccc; */
			margin: 0;
			font-size: 14px;
			padding: 5px 5px;
		}

		table tr th :first-child,
		table tr td :first-child {
			margin-top: 0;
		}

		table tr th :last-child,
		table tr td :last-child {
			margin-bottom: 0;
		}

		.markdown-body table tr:nth-child(2n),
		.markdown-body table tr {
			transition: all 300ms ease-in-out;
		}

		.markdown-body table tr:hover {
			background-color: #f8f8f81b;
		}

		.markdown-body table tr:nth-child(2n):hover {
			background-color: #f8f8f81b;
		}

		/* .markdown-body hr::before {
			display: table;
			content: "";
		}
		.markdown-body hr::after {
			display: table;
			clear: both;
			content: "";
		}
		.markdown-body table {
			border-spacing: 0;
			border-collapse: collapse;
			display: block;
			width: max-content;
			max-width: 100%;
			overflow: auto;
			overflow-wrap: anywhere;
			font-variant: tabular-nums;
		}
		.markdown-body td,
		.markdown-body th {
			padding: 0;
		} */

		.markdown-body details summary {
			cursor: pointer;
		}

		.markdown-body a:focus,
		.markdown-body [role="button"]:focus,
		.markdown-body input[type="radio"]:focus,
		.markdown-body input[type="checkbox"]:focus {
			outline: 2px solid var(--focus-outlineColor);
			outline-offset: -2px;
			box-shadow: none;
		}

		.markdown-body a:focus:not(:focus-visible),
		.markdown-body [role="button"]:focus:not(:focus-visible),
		.markdown-body input[type="radio"]:focus:not(:focus-visible),
		.markdown-body input[type="checkbox"]:focus:not(:focus-visible) {
			outline: solid 1px transparent;
		}

		.markdown-body a:focus-visible,
		.markdown-body [role="button"]:focus-visible,
		.markdown-body input[type="radio"]:focus-visible,
		.markdown-body input[type="checkbox"]:focus-visible {
			outline: 2px solid var(--focus-outlineColor);
			outline-offset: -2px;
			box-shadow: none;
		}

		.markdown-body a:not([class]):focus,
		.markdown-body a:not([class]):focus-visible,
		.markdown-body input[type="radio"]:focus,
		.markdown-body input[type="radio"]:focus-visible,
		.markdown-body input[type="checkbox"]:focus,
		.markdown-body input[type="checkbox"]:focus-visible {
			outline-offset: 0;
		}

		.markdown-body kbd {
			display: inline-block;
			padding: var(--base-size-4);
			font: 11px var(--fontStack-monospace, ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace);
			line-height: 10px;
			color: var(--fgColor-default);
			vertical-align: middle;
			background-color: var(--bgColor-muted);
			border: solid 1px var(--borderColor-neutral-muted);
			border-bottom-color: var(--borderColor-neutral-muted);
			border-radius: 10px;
			box-shadow: inset 0 -1px 0 var(--borderColor-neutral-muted);
		}

		.markdown-body h1,
		.markdown-body h2,
		.markdown-body h3,
		.markdown-body h4,
		.markdown-body h5,
		.markdown-body h6 {
			margin-top: var(--base-size-24);
			margin-bottom: var(--base-size-16);
			font-weight: var(--base-text-weight-semibold, 600);
			line-height: 1.25;
		}

		.markdown-body h2 {
			font-weight: var(--base-text-weight-semibold, 600);
			padding-bottom: 0.3em;
			font-size: 1.5em;
			border-bottom: 1px solid var(--borderColor-muted);
		}

		.markdown-body h3 {
			font-weight: var(--base-text-weight-semibold, 600);
			font-size: 1.25em;
		}

		.markdown-body h4 {
			font-weight: var(--base-text-weight-semibold, 600);
			font-size: 1em;
		}

		.markdown-body h5 {
			font-weight: var(--base-text-weight-semibold, 600);
			font-size: 0.875em;
		}

		.markdown-body h6 {
			font-weight: var(--base-text-weight-semibold, 600);
			font-size: 0.85em;
			color: var(--fgColor-muted);
		}

		.markdown-body p {
			margin-top: 0;
			margin-bottom: 10px;
		}

		.markdown-body blockquote {
			margin: 0;
			padding: 0 1em;
			color: var(--fgColor-muted);
			border-left: 0.25em solid var(--borderColor-default);
		}

		.markdown-body ul,
		.markdown-body ol {
			margin-top: 0;
			margin-bottom: 0;
			padding-left: 2em;
		}

		.markdown-body ol ol,
		.markdown-body ul ol {
			list-style-type: lower-roman;
		}

		.markdown-body ul ul ol,
		.markdown-body ul ol ol,
		.markdown-body ol ul ol,
		.markdown-body ol ol ol {
			list-style-type: lower-alpha;
		}

		.markdown-body dd {
			margin-left: 0;
		}

		.markdown-body tt,
		.markdown-body code,
		.markdown-body samp {
			font-family: "SFMono Nerd Font", "SF Mono", Menlo, monospace;
			font-size: 12px;
		}

		.markdown-body pre {
			margin: 1.5em;
			font-family: "SFMono Nerd Font", "SF Mono", Menlo, monospace;
			font-size: 12px;
			word-wrap: normal;
		}

		.markdown-body .octicon {
			display: inline-block;
			overflow: visible !important;
			vertical-align: text-bottom;
			fill: currentColor;
		}

		.markdown-body input::-webkit-outer-spin-button,
		.markdown-body input::-webkit-inner-spin-button {
			margin: 0;
			appearance: none;
		}

		.markdown-body .mr-2 {
			margin-right: var(--base-size-8, 8px) !important;
		}

		.markdown-body::before {
			display: table;
			content: "";
		}

		.markdown-body::after {
			display: table;
			clear: both;
			content: "";
		}

		.markdown-body>*:first-child {
			margin-top: 0 !important;
		}

		.markdown-body>*:last-child {
			margin-bottom: 0 !important;
		}

		.markdown-body a:not([href]) {
			color: inherit;
			text-decoration: none;
		}

		.markdown-body .absent {
			color: var(--fgColor-danger);
		}

		.markdown-body .anchor {
			float: left;
			padding-right: var(--base-size-4);
			margin-left: -20px;
			line-height: 1;
		}

		.markdown-body .anchor:focus {
			outline: none;
		}

		.markdown-body p,
		.markdown-body blockquote,
		.markdown-body ul,
		.markdown-body ol,
		.markdown-body dl,
		.markdown-body table,
		.markdown-body pre,
		.markdown-body details {
			margin-top: 0;
			margin-bottom: var(--base-size-16);
		}

		.markdown-body blockquote> :first-child {
			margin-top: 0;
		}

		.markdown-body blockquote> :last-child {
			margin-bottom: 0;
		}

		.markdown-body h1 .octicon-link,
		.markdown-body h2 .octicon-link,
		.markdown-body h3 .octicon-link,
		.markdown-body h4 .octicon-link,
		.markdown-body h5 .octicon-link,
		.markdown-body h6 .octicon-link {
			color: var(--fgColor-default);
			vertical-align: middle;
			visibility: hidden;
		}

		.markdown-body h1:hover .anchor,
		.markdown-body h2:hover .anchor,
		.markdown-body h3:hover .anchor,
		.markdown-body h4:hover .anchor,
		.markdown-body h5:hover .anchor,
		.markdown-body h6:hover .anchor {
			text-decoration: none;
		}

		.markdown-body h1:hover .anchor .octicon-link,
		.markdown-body h2:hover .anchor .octicon-link,
		.markdown-body h3:hover .anchor .octicon-link,
		.markdown-body h4:hover .anchor .octicon-link,
		.markdown-body h5:hover .anchor .octicon-link,
		.markdown-body h6:hover .anchor .octicon-link {
			visibility: visible;
		}

		.markdown-body h1 tt,
		.markdown-body h1 code,
		.markdown-body h2 tt,
		.markdown-body h2 code,
		.markdown-body h3 tt,
		.markdown-body h3 code,
		.markdown-body h4 tt,
		.markdown-body h4 code,
		.markdown-body h5 tt,
		.markdown-body h5 code,
		.markdown-body h6 tt,
		.markdown-body h6 code {
			padding: 0 0.2em;
			font-size: inherit;
		}

		.markdown-body summary h1,
		.markdown-body summary h2,
		.markdown-body summary h3,
		.markdown-body summary h4,
		.markdown-body summary h5,
		.markdown-body summary h6 {
			display: inline-block;
		}

		.markdown-body summary h1 .anchor,
		.markdown-body summary h2 .anchor,
		.markdown-body summary h3 .anchor,
		.markdown-body summary h4 .anchor,
		.markdown-body summary h5 .anchor,
		.markdown-body summary h6 .anchor {
			margin-left: -40px;
		}

		.markdown-body summary h1,
		.markdown-body summary h2 {
			padding-bottom: 0;
			border-bottom: 0;
		}

		.markdown-body ul.no-list,
		.markdown-body ol.no-list {
			padding: 0;
			list-style-type: none;
		}

		.markdown-body ol[type="a s"] {
			list-style-type: lower-alpha;
		}

		.markdown-body ol[type="A s"] {
			list-style-type: upper-alpha;
		}

		.markdown-body ol[type="i s"] {
			list-style-type: lower-roman;
		}

		.markdown-body ol[type="I s"] {
			list-style-type: upper-roman;
		}

		.markdown-body ol[type="1"] {
			list-style-type: decimal;
		}

		.markdown-body div>ol:not([type]) {
			list-style-type: decimal;
		}

		.markdown-body ul ul,
		.markdown-body ul ol,
		.markdown-body ol ol,
		.markdown-body ol ul {
			margin-top: 0;
			margin-bottom: 0;
		}

		.markdown-body li>p {
			margin-top: var(--base-size-16);
		}

		.markdown-body li+li {
			margin-top: 0.25em;
		}

		.markdown-body dl {
			padding: 0;
		}

		.markdown-body dl dt {
			padding: 0;
			margin-top: var(--base-size-16);
			font-size: 1em;
			font-style: italic;
			font-weight: var(--base-text-weight-semibold, 600);
		}

		.markdown-body dl dd {
			padding: 0 var(--base-size-16);
			margin-bottom: var(--base-size-16);
		}

		.markdown-body table th {
			font-weight: var(--base-text-weight-semibold, 600);
		}

		.markdown-body table th,
		.markdown-body table td {
			padding: 6px 13px;
			border: 0px solid var(--borderColor-default);
		}

		.markdown-body table td> :last-child {
			margin-bottom: 0;
		}

		.markdown-body table tr {
			font-family: "Satoshi Nerd Font", sans-serif;
			background-color: var(--bgColor-default);
			border-top: 1px solid var(--borderColor-muted);
		}

		.markdown-body table tr:nth-child(2n) {
			background-color: var(--bgColor-muted);
		}

		.markdown-body table img {
			background-color: transparent;
		}

		.markdown-body img[align="right"] {
			padding-left: 20px;
		}

		.markdown-body img[align="left"] {
			padding-right: 20px;
		}

		.markdown-body .emoji {
			max-width: none;
			vertical-align: text-top;
			background-color: transparent;
		}

		.markdown-body span.frame {
			display: block;
			overflow: hidden;
		}

		.markdown-body span.frame>span {
			display: block;
			float: left;
			width: auto;
			padding: 7px;
			margin: 13px 0 0;
			overflow: hidden;
			border: 1px solid var(--borderColor-default);
		}

		.markdown-body span.frame span img {
			display: block;
			float: left;
		}

		.markdown-body span.frame span span {
			display: block;
			padding: 5px 0 0;
			clear: both;
			color: var(--fgColor-default);
		}

		.markdown-body span.align-center {
			display: block;
			overflow: hidden;
			clear: both;
		}

		.markdown-body span.align-center>span {
			display: block;
			margin: 13px auto 0;
			overflow: hidden;
			text-align: center;
		}

		.markdown-body span.align-center span img {
			margin: 0 auto;
			text-align: center;
		}

		.markdown-body span.align-right {
			display: block;
			overflow: hidden;
			clear: both;
		}

		.markdown-body span.align-right>span {
			display: block;
			margin: 13px 0 0;
			overflow: hidden;
			text-align: right;
		}

		.markdown-body span.align-right span img {
			margin: 0;
			text-align: right;
		}

		.markdown-body span.float-left {
			display: block;
			float: left;
			margin-right: 13px;
			overflow: hidden;
		}

		.markdown-body span.float-left span {
			margin: 13px 0 0;
		}

		.markdown-body span.float-right {
			display: block;
			float: right;
			margin-left: 13px;
			overflow: hidden;
		}

		.markdown-body span.float-right>span {
			display: block;
			margin: 13px auto 0;
			overflow: hidden;
			text-align: right;
		}

		.markdown-body code,
		.markdown-body tt {
			padding: 0.2em 0.4em;
			margin: 0;
			font-size: 85%;
			white-space: break-spaces;
			background-color: var(--bgColor-neutral-muted);
			border-radius: 7px;
		}

		.markdown-body code br,
		.markdown-body tt br {
			display: none;
		}

		.markdown-body del code {
			text-decoration: inherit;
		}

		.markdown-body samp {
			font-size: 85%;
		}

		pre {
			cursor: crosshair;
			margin-left: 1.5em;
			margin-right: 1.5em;
		}

		.markdown-body pre code {
			font-size: 95%;
		}

		.markdown-body pre>code {
			padding: 0;
			margin: 0;
			word-break: normal;
			white-space: pre;
			background: transparent;
			border: 0;
		}

		.markdown-body .highlight {
			margin-bottom: var(--base-size-16);
		}

		.markdown-body .highlight pre {
			margin-bottom: 0;
			word-break: normal;
		}

		.markdown-body .highlight pre,
		.markdown-body pre {
			padding: var(--base-size-16);
			overflow: auto;
			font-size: 85%;
			line-height: 1.4;
			color: var(--fgColor-default);
			background-color: #09090a;
			border-radius: 10px;
			box-shadow:
				0 10px 16px 0 rgba(0, 0, 0, 0.2),
				0 6px 20px 0 rgba(0, 0, 0, 0.19) !important;
		}

		.markdown-body pre code,
		.markdown-body pre tt {
			display: inline;
			max-width: auto;
			padding: 0;
			margin: 0;
			overflow: visible;
			line-height: inherit;
			word-wrap: normal;
			background-color: transparent;
			border: 0;
		}

		.markdown-body .csv-data td,
		.markdown-body .csv-data th {
			padding: 5px;
			overflow: hidden;
			font-size: 12px;
			line-height: 1;
			text-align: left;
			white-space: nowrap;
		}

		.markdown-body .csv-data .blob-num {
			padding: 10px var(--base-size-8) 9px;
			text-align: right;
			background: var(--bgColor-default);
			border: 0;
		}

		.markdown-body .csv-data tr {
			border-top: 0;
		}

		.markdown-body .csv-data th {
			font-weight: var(--base-text-weight-semibold, 600);
			background: var(--bgColor-muted);
			border-top: 0;
		}

		.markdown-body [data-footnote-ref]::before {
			content: "[";
		}

		.markdown-body [data-footnote-ref]::after {
			content: "]";
		}

		.markdown-body .footnotes {
			font-size: 12px;
			color: var(--fgColor-muted);
			border-top: 1px solid var(--borderColor-default);
		}

		.markdown-body .footnotes ol {
			padding-left: var(--base-size-16);
		}

		.markdown-body .footnotes ol ul {
			display: inline-block;
			padding-left: var(--base-size-16);
			margin-top: var(--base-size-16);
		}

		.markdown-body .footnotes li {
			position: relative;
		}

		.markdown-body .footnotes li:target::before {
			position: absolute;
			top: calc(var(--base-size-8) * -1);
			right: calc(var(--base-size-8) * -1);
			bottom: calc(var(--base-size-8) * -1);
			left: calc(var(--base-size-24) * -1);
			pointer-events: none;
			content: "";
			border: 2px solid var(--borderColor-accent-emphasis);
			border-radius: 6px;
		}

		.markdown-body .footnotes li:target {
			color: var(--fgColor-default);
		}

		.markdown-body .footnotes .data-footnote-backref g-emoji {
			font-family: monospace;
		}

		.markdown-body body:has(:modal) {
			padding-right: var(--dialog-scrollgutter) !important;
		}

		.markdown-body .pl-c {
			color: var(--color-prettylights-syntax-comment);
		}

		.markdown-body .pl-c1,
		.markdown-body .pl-s .pl-v {
			color: var(--color-prettylights-syntax-constant);
		}

		.markdown-body .pl-e,
		.markdown-body .pl-en {
			color: var(--color-prettylights-syntax-entity);
		}

		.markdown-body .pl-smi,
		.markdown-body .pl-s .pl-s1 {
			color: var(--color-prettylights-syntax-storage-modifier-import);
		}

		.markdown-body .pl-ent {
			color: var(--color-prettylights-syntax-entity-tag);
		}

		.markdown-body .pl-k {
			color: var(--color-prettylights-syntax-keyword);
		}

		.markdown-body .pl-s,
		.markdown-body .pl-pds,
		.markdown-body .pl-s .pl-pse .pl-s1,
		.markdown-body .pl-sr,
		.markdown-body .pl-sr .pl-cce,
		.markdown-body .pl-sr .pl-sre,
		.markdown-body .pl-sr .pl-sra {
			color: var(--color-prettylights-syntax-string);
		}

		.markdown-body .pl-v,
		.markdown-body .pl-smw {
			color: var(--color-prettylights-syntax-variable);
		}

		.markdown-body .pl-bu {
			color: var(--color-prettylights-syntax-brackethighlighter-unmatched);
		}

		.markdown-body .pl-ii {
			color: var(--color-prettylights-syntax-invalid-illegal-text);
			background-color: var(--color-prettylights-syntax-invalid-illegal-bg);
		}

		.markdown-body .pl-c2 {
			color: var(--color-prettylights-syntax-carriage-return-text);
			background-color: var(--color-prettylights-syntax-carriage-return-bg);
		}

		.markdown-body .pl-sr .pl-cce {
			font-weight: bold;
			color: var(--color-prettylights-syntax-string-regexp);
		}

		.markdown-body .pl-ml {
			color: var(--color-prettylights-syntax-markup-list);
		}

		.markdown-body .pl-mh,
		.markdown-body .pl-mh .pl-en,
		.markdown-body .pl-ms {
			font-weight: bold;
			color: var(--color-prettylights-syntax-markup-heading);
		}

		.markdown-body .pl-mi {
			font-style: italic;
			color: var(--color-prettylights-syntax-markup-italic);
		}

		.markdown-body .pl-mb {
			font-weight: bold;
			color: var(--color-prettylights-syntax-markup-bold);
		}

		.markdown-body .pl-md {
			color: var(--color-prettylights-syntax-markup-deleted-text);
			background-color: var(--color-prettylights-syntax-markup-deleted-bg);
		}

		.markdown-body .pl-mi1 {
			color: var(--color-prettylights-syntax-markup-inserted-text);
			background-color: var(--color-prettylights-syntax-markup-inserted-bg);
		}

		.markdown-body .pl-mc {
			color: var(--color-prettylights-syntax-markup-changed-text);
			background-color: var(--color-prettylights-syntax-markup-changed-bg);
		}

		.markdown-body .pl-mi2 {
			color: var(--color-prettylights-syntax-markup-ignored-text);
			background-color: var(--color-prettylights-syntax-markup-ignored-bg);
		}

		.markdown-body .pl-mdr {
			font-weight: bold;
			color: var(--color-prettylights-syntax-meta-diff-range);
		}

		.markdown-body .pl-by {
			color: var(--color-prettylights-syntax-brackethighlighter-angle);
		}

		.markdown-body .pl-sg {
			color: var(--color-prettylights-syntax-sublimelinter-gutter-mark);
		}

		.markdown-body .pl-corl {
			text-decoration: underline;
			color: var(--color-prettylights-syntax-constant-other-reference-link);
		}

		.markdown-body [role="button"]:focus:not(:focus-visible),
		.markdown-body [role="tabpanel"][tabindex="0"]:focus:not(:focus-visible),
		.markdown-body button:focus:not(:focus-visible),
		.markdown-body summary:focus:not(:focus-visible),
		.markdown-body a:focus:not(:focus-visible) {
			outline: none;
			box-shadow: none;
		}

		.markdown-body [tabindex="0"]:focus:not(:focus-visible),
		.markdown-body details-dialog:focus:not(:focus-visible) {
			outline: none;
		}

		.markdown-body g-emoji {
			display: inline-block;
			min-width: 1ch;
			font-family: "Apple Color Emoji", "Symbols Nerd Font", "Segoe UI Symbol";
			font-size: 1em;
			font-style: normal !important;
			font-weight: var(--base-text-weight-normal, 400);
			line-height: 1;
			vertical-align: -0.075em;
		}

		.markdown-body g-emoji img {
			width: 1em;
			height: 1em;
		}

		.markdown-body .task-list-item {
			list-style-type: none;
		}

		.markdown-body .task-list-item label {
			font-weight: var(--base-text-weight-normal, 400);
		}

		.markdown-body .task-list-item.enabled label {
			cursor: pointer;
		}

		/* END OF MAIN CSS */

		/* Copy button container */
		.code-wrapper {
			position: relative;
		}

		.copy-button {
			position: absolute;
			top: 8px;
			right: 30px;
			display: inline-flex;
			align-items: center;
			justify-content: center;
			padding: 6px;
			background: #09090a;
			border: 1px solid #09090a;
			border-radius: 4px;
			color: #7b98da;
			opacity: 0.6;
			font-size: large;
			z-index: 10;
			transition: all 1s ease;
		}

		.copy-button:hover {
			color: #f5d49e;
			border-color: transparent;
			opacity: 1;
			font-size: x-large;
		}

		/* SVG icon styles */
		.copy-button svg {
			cursor: crosshair;
			width: 19px;
			height: 19px;
			stroke: #f5d49e;
			opacity: 0.4;
			transition: all 0.5s ease;
			transform-origin: center;
		}

		.copy-button:hover svg {
			opacity: 0.97;
			fill: #f5d49e;
			transform: scale(1.25);
		}

		/* Tooltip styles */
		.copy-button[data-tooltip]::before {
			content: attr(data-tooltip);
			position: absolute;
			bottom: 100%;
			right: 0;
			margin-bottom: 8px;
			padding: 4px 8px;
			background: #1a202c;
			color: #bbbbbb;
			font-size: 9px;
			white-space: nowrap;
			border-radius: 6px;
			opacity: 0.4;
			visibility: hidden;
			transition: all 0.6s ease;
		}

		.copy-button[data-tooltip]:hover::before {
			opacity: 1;
			visibility: visible;
		}

		/* Success state */
		.copy-button.copied {
			border-color: #b5f700;
			transition: all 0.6s ease;
		}

		.copy-button.copied svg {
			stroke: #b5f700;
		}

		/* Ensure pre tags have relative positioning for button placement */
		pre {
			position: relative;
			padding-top: 1.25rem !important;
			padding-left: 1.75em !important;
		}

		.language-label {
			position: absolute;
			top: 15px;
			right: 60px;
			background: #09090a;
			font-size: 12px;
			font-family: Satoshi, Author, "SF Pro Display";
			border-radius: 0 4px 0 4px;
			opacity: 0.4;
			color: #f5d49e;
			cursor: pointer;
		}

		.language-label:hover {
			opacity: 0.8;
		}

		/* END OF CLIPB CSS */

		/* Base callout styling */
		.callout {
			padding: 0;
			margin-bottom: 16px;
			border-left: 4px solid #d0d7de;
			border-radius: 8px;
			overflow: hidden;
		}

		.callout-header {
			padding: 8px 16px;
			display: flex;
			align-items: center;
			font-weight: 600;
		}

		.callout-icon {
			margin-right: 8px;
		}

		.callout-content {
			padding: 0 16px 16px;
		}

		.callout-content p {
			margin: 0;
		}

		/* Specific callout types */
		.callout-note {
			border-left-color: #0969da;
			background: #171b29;
		}

		.callout-note .callout-header {
			color: #0969da;
		}

		.callout-tip {
			border-left-color: #1a7f37;
			background: #121e1d;
		}

		.callout-tip .callout-header {
			color: #1a7f37;
		}

		.callout-important {
			border-left-color: #8250df;
			background: #1b192a;
		}

		.callout-important .callout-header {
			color: #8250df;
		}

		.callout-warning {
			border-left-color: #9a6700;
			background: #24201a;
		}

		.callout-warning .callout-header {
			color: #9a6700;
		}

		.callout-caution {
			border-left-color: #cf222e;
			background: #26181c;
		}

		.callout-caution .callout-header {
			color: #cf222e;
		}

		/* END OF CALLOUTS CSS */

		::selection {
			background-color: #91919130;
			/* Change to your preferred color */
			/* color: #000000; Text color when highlighted */
		}

		::-moz-selection {
			/* Firefox requires its own rule */
			background-color: #91919130;
			/* color: #000000; */
		}

		/* END OF EXTRAS CSS */
	</style>
</head>

<body>
	<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/limpdev/limpbin@main/css/prismHL.js"></script>
	<article class="markdown-body"><p>Of course! This is an excellent example of a modern Chrome extension. Let&rsquo;s break down its architecture and functionality, focusing on the markdown transformation and Table of Contents (TOC) generation as you requested.</p>
<h3 id="high-level-architecture">High-Level Architecture</h3>
<p>The extension is built with Webpack and consists of three standard parts:</p>
<ol>
<li><strong>Content Script (<code>src/main.ts</code>)</strong>: This is the core of the extension. It runs directly on any page that matches the patterns in <code>manifest.json</code> (e.g., <code>*://*/*.md</code>). Its job is to read the raw markdown text from the page, transform it into HTML, and replace the page&rsquo;s content with a beautifully rendered view.</li>
<li><strong>Background Script (<code>src/background.ts</code>)</strong>: This is the service worker. It handles background tasks like listening for keyboard shortcuts (<code>chrome.commands</code>), managing storage changes, and handling requests from the content script (like re-fetching the markdown file for the auto-refresh feature).</li>
<li><strong>Popup (<code>src/popup/index.ts</code>)</strong>: This is the UI that appears when you click the extension&rsquo;s icon in the toolbar. It&rsquo;s built with Svelte and allows the user to change settings (theme, enabled plugins, etc.), which are then saved to <code>chrome.storage</code>.</li>
</ol>
<hr />
<h3 id="core-markdown-transformation">Core Markdown Transformation</h3>
<p>This is the heart of the extension. The transformation logic is primarily located in <code>src/core/markdown.ts</code>.</p>
<p><strong>The key library used is <code>markdown-it</code></strong>, a highly popular and extensible Markdown parser.</p>
<p>Here’s the step-by-step process:</p>
<ol>
<li>
<p><strong>Initialization (<code>initRender</code> in <code>src/core/markdown.ts</code>)</strong>:</p>
<ul>
<li>A new <code>MarkdownIt</code> instance is created.</li>
<li>It&rsquo;s configured with basic options like <code>html: true</code>, <code>linkify: true</code>, etc.</li>
<li><strong>Syntax Highlighting</strong>: The <code>highlight</code> option is configured to use <code>highlight.js</code>. When the parser encounters a fenced code block (e.g., <code>```javascript</code>), this function is called. It uses <code>hljs.highlight()</code> to generate the syntax-highlighted HTML for the code. It also cleverly injects a copy button into the <code>&lt;pre&gt;</code> tag.</li>
</ul>
<pre><code class="language-javascript">// src/core/markdown.ts

const md = new MarkdownIt({
  // … other options
  highlight(str: string, language: string) {
    if (language &amp;&amp; hljs.getLanguage(language)) {
      // … uses hljs.highlight()
      return `&lt;pre …&gt;&lt;code …&gt;${highlightedCode}&lt;/code&gt;${copyButtonHTML}&lt;/pre&gt;`
    }
    // … fallback for un-highlighted code
  },
});
</code></pre>
</li>
<li>
<p><strong>Plugin System</strong>: <code>markdown-it</code>&rsquo;s power comes from its plugins. This extension uses many of them to support features beyond the CommonMark spec.</p>
<ul>
<li>A list of available plugins is defined in <code>src/config/md-plugins.ts</code>.</li>
<li>The mapping of plugin names to the actual library is in <code>src/core/markdown.ts</code> in the <code>PLUGINS</code> constant.</li>
<li>During initialization, it iterates through the user&rsquo;s enabled plugins (from storage) and applies them to the <code>markdown-it</code> instance using <code>md.use()</code>. This is how features like TeX math (<code>markdown-it-katex</code>), Mermaid diagrams (<code>markdown-it-mermaid</code>), task lists, and more are enabled.</li>
</ul>
<pre><code class="language-javascript">// src/core/markdown.ts

// custom plugins
plugins.forEach(name ≥ {
  let plugin = PLUGINS[name];
  // … (logic to handle function-based plugin configs)
  plugin &amp;&amp; md.use(plugin[0], …plugin.slice(1));
});
</code></pre>
</li>
<li>
<p><strong>Rendering (<code>mdRender</code> in <code>src/core/markdown.ts</code>)</strong>:</p>
<ul>
<li>A wrapper function <code>mdRender</code> is exposed. It cleverly caches the initialized <code>markdown-it</code> instance so it doesn&rsquo;t have to be re-created on every render unless the options have changed.</li>
<li>It first calls <code>removeFrontmatter</code> to strip out any Jekyll/Hugo-style frontmatter from the top of the file.</li>
<li>Finally, it calls <code>mdRender.md.render(filteredCode)</code>, which performs the transformation from a markdown string to an HTML string.</li>
</ul>
</li>
<li>
<p><strong>Execution in the Content Script (<code>src/main.ts</code>)</strong>:</p>
<ul>
<li>The content script (<code>main.ts</code>) grabs the raw markdown text from the page, which is usually inside a <code>&lt;pre&gt;</code> tag.</li>
<li>It creates a renderer function <code>contentRender</code> which is a partially-applied version of <code>mdRender</code>, configured with the user&rsquo;s settings (theme, plugins).</li>
<li>It calls <code>contentRender(mdRaw)</code> to get the final HTML.</li>
<li>This HTML is then injected into a new <code>&lt;article&gt;</code> element (<code>mdContent</code>), which replaces the original page content.</li>
</ul>
<pre><code class="language-javascript">// src/main.ts

// Get raw markdown from the page
const rawContainer = getRawContainer();
mdRaw = rawContainer?.textContent;

// Create the renderer
const contentRender = mdRenderer(mdContent);

// Render the content
contentRender(mdRaw); 
</code></pre>
</li>
</ol>
<hr />
<h3 id="table-of-contents-toc-generation">Table of Contents (TOC) Generation</h3>
<p>The TOC generation is a clever process that happens <em>after</em> the markdown has been converted to HTML. It does not use the <code>markdown-it-table-of-contents</code> plugin to generate the TOC inline, but rather builds its own interactive side panel.</p>
<p>Here&rsquo;s how it works, primarily within <code>src/main.ts</code>:</p>
<ol>
<li>
<p><strong>Query the Rendered Headers (<code>renderSide</code> function)</strong>:</p>
<ul>
<li>After the markdown is rendered into HTML and placed in the <code>mdContent</code> article, the <code>renderSide</code> function is called.</li>
<li>It first finds all the heading elements (<code>&lt;h1&gt;</code> to <code>&lt;h6&gt;</code>) within the newly created content.</li>
</ul>
<pre><code class="language-javascript">// src/main.ts ⇾ renderSide()
headElements = getHeads(mdContent); // Uses querySelectorAll('h1, h2, …')
</code></pre>
</li>
<li>
<p><strong>Process Each Header (<code>handleHeadItem</code> function)</strong>:</p>
<ul>
<li>The script iterates over each found header element. For each one, it does the following:</li>
<li><strong>Create a Unique ID</strong>: It takes the header&rsquo;s text content (e.g., &ldquo;My Great Section&rdquo;), cleans it up, converts it to lowercase, replaces spaces with hyphens, and URL-encodes it to create a link-friendly ID (e.g., <code>my-great-section</code>). The <code>getDecodeContent</code> function ensures these IDs are unique on the page by appending a number if a duplicate is found.</li>
<li><strong>Update the Header</strong>: It sets this newly generated ID on the actual <code>&lt;h1&gt;</code>, <code>&lt;h2&gt;</code>, etc., element in the main content area. This makes the header linkable (e.g., <code>&lt;h2 id=&quot;my-great-section&quot;&gt;</code>).</li>
<li><strong>Create the TOC List Item</strong>: It creates a new <code>&lt;li&gt;</code> element for the side panel.</li>
<li><strong>Create the TOC Link</strong>: Inside this <code>&lt;li&gt;</code>, it creates an <code>&lt;a&gt;</code> tag whose <code>href</code> points to the ID created in the previous step (e.g., <code>&lt;a href=&quot;#my-great-section&quot;&gt;</code>). The link&rsquo;s text is the original header text.</li>
<li><strong>Append to Fragment</strong>: For performance, all these new <code>&lt;li&gt;</code> elements are appended to a <code>DocumentFragment</code> rather than directly to the DOM in a loop.</li>
</ul>
</li>
<li>
<p><strong>Mount the TOC</strong>:</p>
<ul>
<li>After the loop is finished, the entire content of the <code>DocumentFragment</code> is appended to the <code>mdSide</code> (the <code>&lt;ul&gt;</code> element for the TOC) in a single operation.</li>
</ul>
</li>
<li>
<p><strong>Interactive Highlighting on Scroll (<code>onScroll</code> function)</strong>:</p>
<ul>
<li>An <code>onscroll</code> event listener is attached to the document (throttled for performance).</li>
<li>When the user scrolls, this function checks the user&rsquo;s scroll position (<code>document.documentElement.scrollTop</code>).</li>
<li>It iterates through the list of <code>headElements</code> to find which section is currently in the viewport.</li>
<li>It then finds the corresponding <code>&lt;li&gt;</code> element in the <code>sideLiElements</code> array and adds the <code>md-reader__side-li--active</code> class to it, highlighting the current section in the TOC. It also removes the class from the previously active item.</li>
<li>It also uses <code>target.scrollIntoView({ block: 'nearest' })</code> to automatically scroll the TOC panel so the active item is always visible.</li>
</ul>
</li>
</ol>
<h3 id="summary--key-takeaways-for-your-extension">Summary &amp; Key Takeaways for Your Extension</h3>
<ul>
<li><strong>Use <code>markdown-it</code></strong>: It&rsquo;s robust, fast, and highly extensible. It&rsquo;s the industry standard for a reason.</li>
<li><strong>Embrace the Plugin Ecosystem</strong>: Don&rsquo;t reinvent the wheel. Use existing <code>markdown-it</code> plugins for features like footnotes, diagrams, math, etc.</li>
<li><strong>Decouple TOC Generation</strong>: Generating the TOC <em>after</em> the HTML is rendered is a very flexible approach. It gives you full control over the TOC&rsquo;s structure and interactivity, separate from the main content.</li>
<li><strong>Post-Processing for Interactivity</strong>:
<ol>
<li>Render Markdown to HTML.</li>
<li>Query the resulting HTML for elements you want to enhance (headers for TOC, code blocks for copy buttons, images for viewers).</li>
<li>Modify these elements or build new UI components based on them.</li>
</ol>
</li>
<li><strong>Performance is Key</strong>: Notice the use of a <code>DocumentFragment</code> for building the TOC and <code>lodash.throttle</code> for the scroll handler. These are important micro-optimizations for a smooth user experience.</li>
<li><strong>CSS for Styling</strong>: The visual separation between content and style is well-maintained. The script adds classes (<code>.centered</code>, <code>.md-reader__side--h1</code>), and the <code>.less</code> files define what those classes do.</li>
</ul>
</article>
	<script type="text/javascript">
		// clipb.js
		// Module for adding copy buttons to code blocks
		const ClipbModule = (() => {
			// Function to create and return the copy button
			const createCopyButton = () => {
				const copyButton = document.createElement("button");
				const dBolt = "M4 14L14 3v7h6L10 21v-7z";
				copyButton.className = "copy-button";
				copyButton.innerHTML =
					`<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="${dBolt}"/></svg>`;
				return copyButton;
			};
			// Function to add a copy button to a single code block
			const addCopyButton = (codeBlock) => {
				// Get the parent pre element
				const preElement = codeBlock.closest("pre");
				if (!preElement) return; // Skip if not inside a pre element
				// Check if already wrapped
				if (preElement.parentElement.classList.contains("code-wrapper")) return;
				// Create a wrapper div for the code block
				const wrapper = document.createElement("div");
				wrapper.className = "code-wrapper";
				// Create the copy button
				const button = createCopyButton();
				// Insert the wrapper before the pre element
				preElement.parentNode.insertBefore(wrapper, preElement);
				// Move the pre element inside the wrapper
				wrapper.appendChild(preElement);
				// Add the button to the wrapper
				wrapper.insertBefore(button, preElement);
				// Add event listener for copy functionality
				button.addEventListener("click", () => {
					// Get text content, handling highlighted code
					const textToCopy = codeBlock.textContent || codeBlock.innerText;
					navigator.clipboard.writeText(textToCopy).then(
						() => {
							const successSVG = `
			            <svg viewBox="0 0 24 24" width="1.5em" height="1.5em" fill="green">
			              <path d="M10 2a3 3 0 0 0-2.83 2H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3h-1.17A3 3 0 0 0 14 2zM9 5a1 1 0 0 1 1-1h4a1 1 0 1 1 0 2h-4a1 1 0 0 1-1-1m6.78 6.625a1 1 0 1 0-1.56-1.25l-3.303 4.128l-1.21-1.21a1 1 0 0 0-1.414 1.414l2 2a1 1 0 0 0 1.488-.082l4-5z"></path>
			            </svg>
			          `;
							button.innerHTML = successSVG; // Set success SVG
							setTimeout(() => {
								const defaultSVG = `
			              <svg viewBox="0 0 24 24" width="1.5em" height="1.5em" fill="currentColor">
			                <path d="M4 14L14 3v7h6L10 21v-7z"></path>
			              </svg>
			            `;
								button.innerHTML = defaultSVG; // Revert to default SVG
							}, 2000);
						},
						(err) => {
							console.error("Could not copy text: ", err);
						},
					);
				});
			};
			// Function to add copy buttons to all code blocks on the page
			const addCopyButtons = () => {
				// Target all code blocks inside pre elements, including those with hljs class
				const codeBlocks = document.querySelectorAll("pre code, pre.hljs code");
				codeBlocks.forEach(addCopyButton);
			};
			// MutationObserver callback to handle dynamically added code blocks
			const handleMutations = (mutations) => {
				mutations.forEach((mutation) => {
					mutation.addedNodes.forEach((node) => {
						if (node.nodeType === 1) {
							// Element node
							// Check if the node itself is a pre with code
							if (node.matches("pre") && node.querySelector("code")) {
								addCopyButton(node.querySelector("code"));
							}
							// Check for any code blocks within the added node
							else {
								const nestedCodeBlocks = node.querySelectorAll(
									"pre code, pre.hljs code");
								nestedCodeBlocks.forEach(addCopyButton);
							}
						}
					});
				});
			};
			// Initialize the module
			const init = () => {
				// Wait for the DOM to be fully loaded
				if (document.readyState === "loading") {
					document.addEventListener("DOMContentLoaded", addCopyButtons);
				} else {
					addCopyButtons();
				}
				// Set up observer for dynamically added elements
				const observer = new MutationObserver(handleMutations);
				observer.observe(document.body, {
					childList: true,
					subtree: true,
				});
			};
			// Public API
			return {
				init
			};
		})();
		// Auto-initialize if script is loaded directly
		if (typeof window !== "undefined") {
			window.addEventListener("DOMContentLoaded", ClipbModule.init);
		}

		// Add ripple effect for every mouse click, anywhere on the page using an SVG
		document.addEventListener("click", function (e) {
			// Create a container for the ripple effect
			const rippleContainer = document.createElement("div");
			rippleContainer.style.position = "fixed";
			rippleContainer.style.left = e.clientX - 48 + "px"; // Center the ripple at click position
			rippleContainer.style.top = e.clientY - 48 + "px";
			rippleContainer.style.pointerEvents = "none"; // Don't interfere with further clicks
			rippleContainer.style.zIndex = "9999";
			// Create SVG element
			const svgNS = "http://www.w3.org/2000/svg";
			const svg = document.createElementNS(svgNS, "svg");
			svg.setAttribute("width", "96");
			svg.setAttribute("height", "96");
			svg.setAttribute("viewBox", "0 0 24 24");
			// Create circle element
			const circle = document.createElementNS(svgNS, "circle");
			circle.setAttribute("cx", "12");
			circle.setAttribute("cy", "12");
			circle.setAttribute("r", "0");
			circle.setAttribute("fill", "rgba(168, 168, 168, 0.5)");
			// Create animate elements
			const animateRadius = document.createElementNS(svgNS, "animate");
			animateRadius.setAttribute("attributeName", "r");
			animateRadius.setAttribute("calcMode", "spline");
			animateRadius.setAttribute("dur", "0.5s");
			animateRadius.setAttribute("keySplines", ".52,.6,.25,.99");
			animateRadius.setAttribute("values", "0;11");
			animateRadius.setAttribute("fill", "freeze");
			const animateOpacity = document.createElementNS(svgNS, "animate");
			animateOpacity.setAttribute("attributeName", "opacity");
			animateOpacity.setAttribute("calcMode", "spline");
			animateOpacity.setAttribute("dur", "0.5s");
			animateOpacity.setAttribute("keySplines", ".52,.6,.25,.99");
			animateOpacity.setAttribute("values", "1;0");
			animateOpacity.setAttribute("fill", "freeze");
			// Assemble the SVG
			circle.appendChild(animateRadius);
			circle.appendChild(animateOpacity);
			svg.appendChild(circle);
			rippleContainer.appendChild(svg);
			// Add to document
			document.body.appendChild(rippleContainer);
			// Remove after animation completes
			setTimeout(() => {
				document.body.removeChild(rippleContainer);
			}, 500); // Match the duration of the animation
		});
	</script>
</body>

</html>
